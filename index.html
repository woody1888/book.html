<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Whitebus Scotland Booking</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --brand:#111827;        /* button + accents */
      --ink:#0f172a;          /* main text */
      --muted:#6b7280;        /* secondary text */
      --card:#ffffff;         /* card background */
      --bg:#f7f7f7;           /* page background */
      --radius:14px;
      --hero-image: url('bus.jpg'); /* <- set once you upload bus.jpg */
    }

    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; }
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; background:var(--bg); color:var(--ink); }

    /* ---------- HERO ---------- */
    .hero {
      position: relative;
      color:#fff;
      background:
        linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.45)),
        var(--hero-image);
      background-size: cover;
      background-position: center;
    }
    .hero-inner { max-width: 960px; margin: 0 auto; padding: 16px; }
    .brandbar {
      display:flex; align-items:center; gap:12px;
      background: rgba(0,0,0,.35);
      border-radius: 999px;
      padding: 8px 14px;
      width: max-content;
      backdrop-filter: blur(3px);
    }
    .brand-logo {
      height:28px; width:auto; display:block;
    }
    .brand-name { font-weight:700; letter-spacing:.3px; }
    .hero-title {
      margin: 28px 0 28px;
      font-size: clamp(22px, 4vw, 34px);
      line-height: 1.2;
      text-shadow: 0 2px 10px rgba(0,0,0,.35);
    }

    /* ---------- LAYOUT ---------- */
    .page { max-width: 720px; margin: -45px auto 48px; padding: 0 16px; }
    .card {
      background:var(--card);
      border-radius: var(--radius);
      box-shadow: 0 12px 30px rgba(0,0,0,.09);
      padding: 22px 20px;
    }

    /* ---------- FORM ---------- */
    h3 { margin: 16px 0 6px; font-size: 16px; }
    .muted { color:var(--muted); margin: 0 0 10px; font-size: 14px; }

    select {
      width:100%; padding:12px 14px; font-size:16px;
      border:1px solid #d1d5db; border-radius:10px; background:#fff; outline:none;
    }
    select:focus { border-color:#94a3b8; box-shadow: 0 0 0 3px rgba(148,163,184,.25); }

    .price { margin-top:10px; font-size:15px; color:#1f2937; }
    .total { margin-top:8px; font-weight:700; font-size:18px; }

    .button {
      display:none; margin-top:16px; width:100%;
      padding:13px 18px; text-align:center; text-decoration:none;
      background:var(--brand); color:#fff; border-radius:999px; font-weight:700;
      box-shadow: 0 8px 20px rgba(17,24,39,.18);
    }
    .button:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(17,24,39,.22); }
  </style>
</head>
<body>

  <!-- HERO with brand and bus image -->
  <header class="hero">
    <div class="hero-inner">
      <div class="brandbar">
        <!-- If logo.png isn’t uploaded yet, this <img> will remove itself -->
        <img class="brand-logo" src="https://scontent-lhr6-2.xx.fbcdn.net/v/t39.30808-6/451231033_445428061802017_4092708032561406518_n.jpg?stp=cp6_dst-jpg_tt6&_nc_cat=105&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=IThVb_WQ0m8Q7kNvwEjbZAs&_nc_oc=Adma7ebTsKHyRzlKHRhtBDjME_86ZCbCd9ybyfzfL0ZX_LL1SdIXy-wpeg4GqLaIWpw&_nc_zt=23&_nc_ht=scontent-lhr6-2.xx&_nc_gid=3nQYESatproYw5NuKitt-Q&oh=00_AfgfqMkaC021ajlkh4knz8Ni_4OSFnXs9vlayBZUTFGehg&oe=6924F55F" alt="Whitebus Scotland" onerror="this.remove()">
        <div class="brand-name">WHITEbus Scotland</div>
      </div>
      <h1 id="title" class="hero-title">Loading…</h1>
    </div>
  </header>

  <!-- Booking card -->
  <main class="page">
    <div class="card">

      <h3>Ticket type:</h3>
      <select id="ticketType">
        <option value="">Select ticket type…</option>
        <option value="return">Return</option>
        <option value="single">Single</option>
      </select>

      <h3>Drop‑off / pickup location:</h3>
      <select id="location">
        <option value="">Select location…</option>
        <option value="Newarthill Club">Newarthill Club</option>
        <option value="Bellshill">Bellshill</option>
        <option value="Hamilton">Hamilton</option>
        <!-- Add more locations by duplicating an <option> line -->
      </select>

      <h3>Number of seats:</h3>
      <select id="seats">
        <option value="">Select seats…</option>
        <option>1</option><option>2</option><option>3</option><option>4</option>
        <option>5</option><option>6</option><option>7</option><option>8</option>
        <option>9</option><option>10</option><option>11</option><option>12</option>
        <option>13</option><option>14</option><option>15</option><option>16</option>
      </select>

      <p id="priceInfo" class="price"></p>
      <p id="totalInfo" class="total"></p>

      <a id="payBtn" class="button" href="#" target="_blank" rel="noopener">Pay &amp; Book</a>
    </div>
  </main>

  <!-- JS: booking logic preserved (IDs unchanged) -->
  <script>
    (function(){
      // Prices
      const PRICE = { return: 25.50, single: 19.50 };
      // Use your real provider base URL:
      const PAY_BASE = "https://your-payment-provider.com/pay/";

      // Helpers
      const cap = (w) => !w ? "" : w.charAt(0).toUpperCase() + w.slice(1);
      const fmt = (n) => "£" + Number(n).toFixed(2);

      // Elements
      const titleEl = document.getElementById("title");
      const typeEl  = document.getElementById("ticketType");
      const locEl   = document.getElementById("location");
      const seatsEl = document.getElementById("seats");
      const priceEl = document.getElementById("priceInfo");
      const totalEl = document.getElementById("totalInfo");
      const payBtn  = document.getElementById("payBtn");

      // Title from ?event=artist_venue_day_month_year
      const params = new URLSearchParams(location.search);
      const eventCode = params.get("event") || "";
      const p = eventCode.split("_");
      if (p.length >= 5) {
        const [artist, venue, day, month, year] = p;
        titleEl.textContent = `Book your bus for ${cap(artist)}, at ${venue.toUpperCase()} on ${day} ${cap(month)} ${year}`;
      } else {
        titleEl.textContent = "Book your bus";
      }

      // Price text
      priceEl.textContent =
        `Price: ${fmt(PRICE.return)} per person return (${fmt(PRICE.single)} single).`;

      function updateUI() {
        const type  = typeEl.value;           // return | single
        const loc   = locEl.value;            // text
        const seats = Number(seatsEl.value) || 0;

        totalEl.textContent = "";
        payBtn.style.display = "none";

        if (!type || !seats) return;

        const per = PRICE[type];
        const total = per * seats;
        const typeLabel = (type === "return") ? "return" : "single";
        totalEl.textContent = `Total for ${seats} ${typeLabel} seat${seats>1?'s':''}: ${fmt(total)}`;

        if (loc) {
          const u = new URL(PAY_BASE + encodeURIComponent(eventCode || 'event'));
          u.searchParams.set("type", type);
          u.searchParams.set("location", loc);
          u.searchParams.set("seats", String(seats));
          u.searchParams.set("total", total.toFixed(2));
          payBtn.href = u.toString();
          payBtn.textContent = `Pay ${fmt(total)} & Book`;
          payBtn.style.display = "block";
        }
      }

      typeEl.addEventListener("change", updateUI);
      locEl.addEventListener("change", updateUI);
      seatsEl.addEventListener("change", updateUI);
    })();
  </script>
</body>
</html>
